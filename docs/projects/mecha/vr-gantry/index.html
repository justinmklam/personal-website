<!DOCTYPE html>
<html lang="en">

<head>
    <title>Overhead Robotic Gantry for Tethered VR Headsets</title>
     <html>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <link href="/css/jmklam-portfolio-bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Lato:400i,400|Roboto+Slab" rel="stylesheet">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">

</html>
</head>

<body>

    <!DOCTYPE html>
<html lang="en">


<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
        
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            
                <a class="navbar-brand" href="http://justinmklam.com">Justin Lam</a>
            
        </div>
        
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav">
                
				<li class="dropdown">
					<a class="dropdown-toggle" data-toggle="dropdown" href="/view-all">Portfolio<span class="caret"></span></a>
					<ul class="dropdown-menu">
                      <li><a href="/sections/mechatronics">Mechatronics</a></li>
					  <li><a href="/sections/mechanical">Mechanical</a></li>
					  <li><a href="/sections/electrical">Electrical</a></li>
					  <li><a href="/sections/software">Software</a></li>
					  <li role="separator" class="divider"></li>
					  <li class="dropdown-header"></li>
					  <li><a href="/view-all">View All</a></li>
					</ul>
				</li>
				
				
					<li><a href="/pages/about/">About</a></li>
				
					<li><a href="/pages/contact/">Contact</a></li>
				
					<li><a href="/blog">Blog</a></li>
				
					<li><a href="/files/Resume-2016.pdf">CV</a></li>
				

            </ul>
        </div>
        
    </div>
    
</nav>
    
</html>

    
    <div class="container" id="page-container">
        
        <div class="col-sm-8 col-centered">
            <h1 class="page-header">Overhead Robotic Gantry for Tethered VR Headsets</h1>		            
            

<p><strong>Objective:</strong> Create an autonomous gantry to follow the HTC Vive headset around, keeping its cable behind the user at all times.</p>

<p><strong>Motivation:</strong> An extravagant party prop for an evening at CES 2017, hosted by MistyWest.</p>

<p><strong>Features:</strong></p>

<ul>
<li>CoreXY planar gantry design</li>
<li>System built with 8020 aluminum extrusions and laser cut acrylic components</li>
<li>Stepper motor control through Teensy 3.2</li>
<li>HTC Vive pose tracking through C++</li>
<li>Patent pending</li>
</ul>

<p><strong>Skills:</strong></p>

<ul>
<li>Mechanical design with rapid prototyping methods</li>
<li>C++ software development</li>
<li>Arduino-based firmware development</li>
</ul>

<p><strong>Sources:</strong></p>

<ul>
<li><a href="https://github.com/MistyWestAdmin">MistyWest Github</a></li>
<li>Medium blog post titled <a href="https://medium.com/@mistywest/tired-of-cables-in-virtual-reality-we-are-too-efeab5606bf0"><em>Tired of cables in VR? We are too.</em></a></li>
<li>CES Founders and Friends 2017 Photo Gallery by <a href="https://natalialeva.shootproof.com/gallery/3918977/home">Natalia Leva</a></li>
</ul>

<p><strong>Acknowledgements:</strong></p>

<p>This project was completed under <a href="https://mistywest.com/">MistyWest</a> with the help of:</p>

<ul>
<li>Derek Disanjh - <em>Project Supervisor</em></li>
<li>Div Gill - <em>Firmware Advisor</em></li>
<li>Ryan Walker - <em>Software Advisor</em></li>
<li>Denis Godin - <em>Filming</em></li>
<li>Madison Reid - <em>Video Editing</em></li>
</ul>


<div class="embed-responsive embed-responsive-16by9 col-xs-10 col-centered">
  <iframe class="embed-responsive-item" src=https://www.youtube.com/embed/zULBxDJVaHs></iframe>
</div>
<p class="caption">Demo video of the gantry in action.</p>

<a href=/imgs/vr-gantry/DSC1764.jpg><img class="img-responsive img-content" src=/imgs/vr-gantry/DSC1764.jpg /></a>
<p class="caption">The gantry being used at a penthouse party hosted by MistyWest during CES 2017. (Photo by Natalia Leva)</p>

<h2 id="the-development-story">The Development Story</h2>

<p>We wanted a solution to increase and maintain presence in virtual reality; having to worry about tripping over the cable takes away from it. What we needed was a way to mimic a cable sherpa, following our every movement to prevent tension in the cable and entanglement around our legs. Whether we were moving forward, backward, left, right, or turning around, we wanted a way to roam freely as if virtual reality was already wireless.</p>

<h3 id="stage-1-design-and-testing">Stage 1: Design and Testing</h3>

<p>We wanted to make this as quickly as possible, so I designed the rig using off-the-shelf parts and laser cut acrylic parts.</p>


<div class="embed-responsive embed-responsive-16by9 col-xs-10 col-centered">
  <iframe class="embed-responsive-item" src=https://sketchfab.com/models/3be6275ae3c048098c2c777d7817ff26/embed?autostart&#61;0&amp;amp;preload&#61;1></iframe>
</div>
<p class="caption">The gantry frame designed in SolidWorks 2017.</p>

<p>Preliminary tests were less than stellar. I initially used relative position commands, but as the clip below shows, but it wasn&rsquo;t responsive enough for practical use.</p>


<div class="embed-responsive embed-responsive-16by9 col-xs-10 col-centered">
  <iframe class="embed-responsive-item" src=https://gfycat.com/ifr/AcademicDizzyJay></iframe>
</div>
<p class="caption">Initial testing of the tracking using relative position commands, almost as if it has a mind of its own.</p>

<p>Changing the motor control to use absolute coordinates instead of relative showed promising results.</p>


<div class="embed-responsive embed-responsive-16by9 col-xs-10 col-centered">
  <iframe class="embed-responsive-item" src=https://gfycat.com/ifr/SparsePassionateLaughingthrush></iframe>
</div>
<p class="caption">Revised tracking using absolute position commands for significantly improved precision.</p>

<p>An overview of the software algorithm to parse the user&rsquo;s current position and command the stepper motors is shown in the flowchart below.</p>

<a href=/imgs/vr-gantry/SoftwareFlowchart.png><img class="img-responsive img-content" src=/imgs/vr-gantry/SoftwareFlowchart.png /></a>
<p class="caption">Flowchart of the software algorithm.</p>

<h3 id="stage-2-user-testing">Stage 2: User Testing</h3>

<p>The results were so promising, in fact, that we decided to strap it to the ceiling and do some user testing. The results were&hellip; Loud due to the rattling and vibrations from the stepper motors. System responsiveness was slow, so more work needed to be done.</p>


<div class="embed-responsive embed-responsive-16by9 col-xs-10 col-centered">
  <iframe class="embed-responsive-item" src=https://gfycat.com/ifr/FairPoisedArizonaalligatorlizard></iframe>
</div>
<p class="caption">First user test with the gantry attached to the lab ceiling (rotation tracking not yet implemented).</p>

<p>Many revisions later, and the rig was finally working as expected!</p>


<div class="embed-responsive embed-responsive-16by9 col-xs-10 col-centered">
  <iframe class="embed-responsive-item" src=https://gfycat.com/ifr/DesertedHospitableEwe></iframe>
</div>
<p class="caption">After many hardware, software, and firmware tweaks, the gantry finally became usable.</p>

<!--<a href=/imgs/vr-gantry/vr-gantry.gif><img class="img-responsive img-content" src=/imgs/vr-gantry/vr-gantry.gif /></a>
<p class="caption">Achievement unlocked: Freedom of movement with wired VR.</p>-->

<h3 id="stage-3-making-it-portable">Stage 3: Making it &ldquo;Portable&rdquo;</h3>

<p>Since this was an internal project with <a href="https://mistywest.com/">MistyWest</a>, the value was in showing this prototype around. The social media content was one thing, but physically bringing it around was thought to have additional &ldquo;wow&rdquo; factors. Since CES 2017 was coming up and MistyWest would be hosting a penthouse party during one of the evenings, it was time to make this thing free standing.</p>

<p>Continuing the theme with 8020 extrusions, the external frame was assembled and tested.</p>

<a href=/imgs/vr-gantry/IMG_20161212_141058.jpg><img class="img-responsive img-content" src=/imgs/vr-gantry/IMG_20161212_141058.jpg /></a>
<p class="caption">Construction of the free standing frame in preparation for bringing the rig to CES.</p>

<a href=/imgs/vr-gantry/IMG_20161216_161302.jpg><img class="img-responsive img-content" src=/imgs/vr-gantry/IMG_20161216_161302.jpg /></a>
<p class="caption">Testing the free standing setup to gain confidence in its sturdiness.</p>

<a href=/imgs/vr-gantry/IMG_20161222_114418.jpg><img class="img-responsive img-content" src=/imgs/vr-gantry/IMG_20161222_114418.jpg /></a>
<p class="caption">Yes, it is in fact portable!</p>

<h3 id="stage-4-mission-complete">Stage 4: Mission Complete</h3>

<p>On January 6, 2017, the rig was set up in Las Vegas and (after some headache and remote debugging) the rig came alive at the <a href="https://mistywest.com/founders-friends-2017/">Founders and Friends 2017</a>. It was a huge hit amongst the tech enthusiasts and ran beautifully through the night.</p>

<a href=/imgs/vr-gantry/DSC1873.jpg><img class="img-responsive img-content" src=/imgs/vr-gantry/DSC1873.jpg /></a>
<p class="caption">People showing interest in the high-tech marriage between robotics and virtual reality. (Photo by Natalia Leva)</p>

<a href=/imgs/vr-gantry/DSC1658.jpg><img class="img-responsive img-content" src=/imgs/vr-gantry/DSC1658.jpg /></a>
<p class="caption">Founders and Friends 2017. (Photo by Natalia Leva)</p>

<p>The rig is now retired and sleeps soundly in its storage container. On to the next project!</p>

			
            <br>

            
            <div class="row">
                
                <div class="col-sm-9 col-sm-push-3">
                    <p class="datestamp"><span class="glyphicon glyphicon-time"></span> Published on April 4, 2017</p>
                </div>   
                
                <div class="col-sm-3 col-sm-pull-9">
                    <a class="text-left" href="/view-all">
                        <span style="font-size:0.83em" class="glyphicon glyphicon-menu-left"></span>All Projects
                    </a>
                </div>                             
            </div>
			
        </div>

		
		
    </div>	
    

	    
    <script src="http://justinmklam.com/js/jquery.js"></script>

    
    <script src="http://justinmklam.com/js/bootstrap.min.js"></script>

    
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    
    <script src="https://use.fontawesome.com/ccb78cc113.js"></script>

</body>
    

<footer>
	<div class="col-lg-8 col-centered">
		<hr>
		<p class="text-center">&copy; 2017 Justin MK Lam</p>
	</div>
</footer>

</html>